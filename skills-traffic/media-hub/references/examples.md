# media-hub 使用示例与输出格式

本文档包含 media-hub 各模式的使用示例与标准输出格式模板。

---

## 输出格式模板

### 搜索结果格式

```
### 搜索结果（共 {n} 条匹配）

关键词：{用户关键词}

| 序号 | 标题 | 类型 | 标签 | 相关度 |
|------|------|------|------|--------|
| 1 | {title} | {type} | {tags} | ★★★ |
| 2 | {title} | {type} | {tags} | ★★☆ |
| ... | ... | ... | ... | ... |

> 文件路径：_shared/assets/data/materials/items/{filename}
```

### 标签标引结果格式

```
### 标签标引结果

素材：{title}（{filename}）

推荐标签：
- {tag1}（维度：{dimension}）
- {tag2}（维度：{dimension}）
- ...

是否确认写入以上标签？[确认/修改/取消]
```

### 统计报告格式

```
### 素材库统计概况

- 素材总数：{total} 条
- 视频素材：{video_count} 条（{video_pct}%）
- 图片素材：{image_count} 条（{image_pct}%）

#### 标签频次 Top-10

| 排名 | 标签 | 出现次数 |
|------|------|----------|
| 1 | {tag} | {count} |
| ... | ... | ... |

#### 来源分布

| 来源 | 数量 |
|------|------|
| {source} | {count} |
| ... | ... |
```

---

## 使用示例

### 示例 1：语义搜索

**用户输入：**
> 找一些关于雨天高速公路追尾事故的素材

**意图解析：**
- 模式：search
- 关键词：雨天、高速公路、追尾
- 过滤条件：无

**匹配逻辑：**
在 index.json 中对每条素材的 tags、title、description 进行语义匹配，命中包含"雨天""高速公路""追尾"或其同义词的素材，按命中关键词数量与权重排序。

**输出示例：**

### 搜索结果（共 3 条匹配）

关键词：雨天、高速公路、追尾

| 序号 | 标题 | 类型 | 标签 | 相关度 |
|------|------|------|------|--------|
| 1 | 暴雨天气高速连环追尾警示 | video | 雨天, 高速公路, 追尾, 多车连撞 | ★★★ |
| 2 | 雨季高速行车安全指南 | video | 雨天, 高速公路, 安全教育 | ★★☆ |
| 3 | 湿滑路面追尾事故合集 | image | 雨天, 追尾, 城区道路 | ★★☆ |

---

### 示例 2：模糊搜索

**用户输入：**
> 有没有关于老人过马路的宣传视频

**意图解析：**
- 模式：search
- 关键词：老人（→ 老年人）、过马路（→ 行人、路口）
- 过滤条件：type = video

**匹配逻辑：**
将"老人"模糊匹配到标签"老年人"，将"过马路"模糊匹配到"行人""路口"等标签，同时过滤 type 为 video 的素材。

**输出示例：**

### 搜索结果（共 2 条匹配）

关键词：老年人、行人、路口（原始：老人过马路）
过滤：仅视频

| 序号 | 标题 | 类型 | 标签 | 相关度 |
|------|------|------|------|--------|
| 1 | 老年人安全出行宣传片 | video | 老年人, 行人, 安全教育 | ★★★ |
| 2 | 路口礼让行人公益广告 | video | 行人, 路口, 正能量 | ★★☆ |

---

### 示例 3：自动标引标签

**用户输入：**
> 帮我给这个新素材打标签：标题是"深夜货车超速追尾小轿车"，来源是某市交警支队

**意图解析：**
- 模式：tagging
- 素材信息：title = "深夜货车超速追尾小轿车"，source = "某市交警支队"

**标引逻辑：**
根据标题关键词提取：深夜 → 夜间，货车 → 货车，超速 → 超速，追尾 → 追尾，小轿车 → 补充维度。结合来源判断为警示教育类。

**输出示例：**

### 标签标引结果

素材：深夜货车超速追尾小轿车

推荐标签：
- 追尾（维度：事故类型）
- 超速（维度：违法种类）
- 夜间（维度：时间特征）
- 货车（维度：涉及对象）
- 警示教育（维度：宣传用途）

是否确认写入以上标签？[确认/修改/取消]

---

### 示例 4：素材统计

**用户输入：**
> 看看素材库现在有多少素材

**意图解析：**
- 模式：statistics
- 范围：全库

**输出示例：**

### 素材库统计概况

- 素材总数：156 条
- 视频素材：98 条（62.8%）
- 图片素材：58 条（37.2%）

#### 标签频次 Top-10

| 排名 | 标签 | 出现次数 |
|------|------|----------|
| 1 | 安全教育 | 45 |
| 2 | 警示教育 | 38 |
| 3 | 追尾 | 32 |
| 4 | 高速公路 | 28 |
| 5 | 酒驾 | 25 |
| 6 | 行人 | 22 |
| 7 | 电动车 | 20 |
| 8 | 城区道路 | 18 |
| 9 | 雨天 | 15 |
| 10 | 超速 | 14 |

#### 来源分布

| 来源 | 数量 |
|------|------|
| 省交警总队 | 42 |
| 某市交警支队 | 35 |
| 公安部交管局 | 28 |
| 自制素材 | 51 |
