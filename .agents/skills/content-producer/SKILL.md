---
name: content-producer
description: 交通安全宣传内容生产助手。生成适用于微信公众号、微博、抖音等多平台的宣传文案、海报方案和短视频脚本。当用户提到"写文案""生成内容""写推文""做海报""写脚本""宣传内容""写一篇""生成一篇"时激活。
user-invocable: true
---

# 内容生产助手（Content Producer）

## 功能概述

本 Skill 是交通安全宣传教育智能化平台的核心内容生产引擎。根据用户指定的宣传主题，自动生成符合交警宣传规范的多平台内容，包括：

1. **多平台文案**：微信公众号推文（800-1500字）、微博短文（140字以内）、抖音短视频文案（300字以内）
2. **海报文案方案**：3套视觉设计方案（含标题、副标题、核心文案、色彩与尺寸建议）
3. **短视频脚本**：标准分镜表格式的脚本（含分镜描述、旁白文案、字幕文本、时长建议）

## 触发条件（When to Use）

当用户的输入匹配以下意图时激活本 Skill：

- 要求撰写交通安全宣传文案或推文
- 提到"写文案""生成内容""写推文""写一篇关于……的宣传内容"
- 要求制作交通安全宣传海报方案
- 提到"做海报""海报方案""海报设计"
- 要求编写短视频脚本
- 提到"写脚本""视频脚本""分镜脚本""拍摄方案"
- 指定了特定主题（如酒驾、春运安全、恶劣天气等）并要求生成内容

**不激活**的情况：用户仅搜索素材（由 media-hub 处理）、仅审核内容（由 content-reviewer 处理）、仅做计划（由 plan-manager 处理）。

## 工作流程（Instructions）

### 步骤 1：理解用户意图

分析用户输入，提取以下关键信息：

| 要素 | 说明 | 默认值 |
|------|------|--------|
| **主题** | 宣传内容的核心话题（如"酒驾危害""春运安全"） | 必填，若未提供则询问 |
| **平台** | 目标发布平台（微信/微博/抖音/全部） | 全部（三个平台各一版） |
| **内容类型** | 文案/海报方案/视频脚本 | 文案 |
| **语气风格** | 严肃警示 / 温馨提醒 / 幽默科普 | 温馨提醒 |
| **特殊要求** | 用户附加的具体要求（如引用特定案例、面向特定人群等） | 无 |

### 步骤 2：读取模板和参考数据

根据内容类型读取对应模板文件：

- **微信推文**：读取 `templates/content-wechat.md`，遵循其格式规范和范例风格
- **微博短文**：读取 `templates/content-weibo.md`，遵循字数限制和话题标签格式
- **抖音文案**：读取 `templates/content-douyin.md`，遵循口语化风格和 hook 结构
- **海报方案**：输出 JSON 结构，包含标题、副标题、核心文案、视觉风格建议、尺寸建议、色彩方向
- **视频脚本**：输出标准分镜表（序号、时长、画面描述、旁白/字幕、拍摄建议）

如果用户提供了素材引用或上下文信息，也一并纳入内容生成。

### 步骤 3：生成内容

按以下规则生成各平台内容：

#### 微信公众号推文
- 字数：800-1500 字
- 结构：标题 -> 导语 -> 正文（分段小标题，3-4个小节）-> 结尾呼吁 -> 编辑信息
- 标题：吸引眼球但不标题党，可用数字、疑问句、感叹句
- 正文：信息密度高，兼顾可读性，段落 3-5 行
- 在合适位置标注 `[配图建议: 描述]`
- 尾部固定格式：来源/编辑/审核

#### 微博短文
- 字数：核心信息 140 字以内
- 结构：`#话题标签#` + 核心信息 + 行动呼吁 + `#话题标签#`
- 前后各 1-2 个话题标签
- 标注配图建议

#### 抖音短视频文案
- 字数：300 字以内
- 结构：Hook（前3秒抓注意力）-> 核心内容 -> 行动呼吁
- 风格：口语化、接地气、有节奏感
- 末尾 3-5 个话题标签
- 开头必须有"钩子"

#### 海报方案
- 输出 3 套独立方案
- 每套方案包含：方案名称、主标题、副标题、核心文案（1-2句）、视觉风格建议、推荐尺寸、色彩方向、配图建议

#### 视频脚本
- 标准分镜表格式
- 每个分镜包含：序号、时长（秒）、画面描述、旁白/配音文案、字幕文本、拍摄手法建议
- 总时长建议 30-60 秒
- 包含开头 hook 和结尾 call-to-action

### 步骤 4：保存文件并展示结果

生成完成后：

1. 将内容保存为 Markdown 文件到对应目录：
   - 文案 -> `output/content/{主题关键词}-{平台}-{YYYYMMDD}.md`
   - 海报方案 -> `output/posters/{主题关键词}-海报方案-{YYYYMMDD}.json`
   - 视频脚本 -> `output/scripts/{主题关键词}-脚本-{YYYYMMDD}.md`
2. 在对话中展示生成的内容全文
3. 告知用户文件保存路径
4. 询问是否需要调整风格、修改内容或生成其他类型

## 数据引用

| 文件路径 | 用途 |
|---------|------|
| `templates/content-wechat.md` | 微信推文格式模板和范例 |
| `templates/content-weibo.md` | 微博短文格式模板和范例 |
| `templates/content-douyin.md` | 抖音文案格式模板和范例 |
| `data/materials/index.json` | 素材索引（用于关联素材推荐） |
| `output/content/` | 文案输出目录 |
| `output/posters/` | 海报方案输出目录 |
| `output/scripts/` | 视频脚本输出目录 |

## 输出格式

### 文案输出（Markdown）

每个平台的文案作为独立 Markdown 文件保存，文件内容严格遵循对应平台模板格式。

### 海报方案输出（JSON）

```json
{
  "topic": "主题",
  "generatedDate": "YYYY-MM-DD",
  "plans": [
    {
      "planName": "方案一：{方案名}",
      "mainTitle": "主标题",
      "subTitle": "副标题",
      "bodyCopy": "核心文案",
      "visualStyle": "视觉风格描述",
      "dimensions": "推荐尺寸",
      "colorScheme": "色彩方向",
      "imageNotes": "配图建议"
    }
  ]
}
```

### 视频脚本输出（Markdown 分镜表）

```markdown
| 序号 | 时长 | 画面描述 | 旁白/配音 | 字幕 | 拍摄建议 |
|------|------|---------|----------|------|---------|
| 1 | 3s | ... | ... | ... | ... |
```

## 约束规则

### 文体规范
- 使用交警宣传的正式文体，避免纯公文腔
- 可使用适量 emoji 辅助排版（微信和微博），但不宜过多
- 案例描述必须脱敏处理（隐去真实姓名、车牌号等）
- 引用数据需标注"据统计""数据显示"等，不编造具体数字

### 内容红线
- 不得出现暴力血腥描述
- 不得出现对执法行为的负面表述
- 不得泄露执法战术或布控细节
- 不得责备受害者
- 法律法规引用必须准确（罚款金额、记分分值等）
- 体现"以人为本""生命至上"的理念

### 平台适配
- 微信推文：信息详实、可读性强，适合深度阅读
- 微博短文：简洁有力、善用数字和对比
- 抖音文案：口语化、有"梗"或反转、前3秒有强钩子

### 文件命名
- 文件名使用中文主题关键词 + 平台 + 日期
- 日期格式 YYYYMMDD
- 示例：`春运安全-微信-20260211.md`

## 使用示例

### 示例 1：生成多平台文案

```
用户: 帮我写一篇关于酒驾危害的宣传内容

Agent 执行流程:
1. 提取主题="酒驾危害"，平台=全部，风格=默认（温馨提醒）
2. 读取三个平台模板
3. 生成微信推文（约1000字）+ 微博短文（约120字）+ 抖音文案（约250字）
4. 保存到 output/content/ 目录
5. 展示三篇文案并告知文件路径
```

### 示例 2：指定平台和风格

```
用户: 用幽默科普的语气，为抖音写一条关于电动车戴头盔的短视频文案

Agent 执行流程:
1. 提取主题="电动车戴头盔"，平台=抖音，风格=幽默科普
2. 读取抖音模板
3. 生成口语化、带"梗"的短视频文案
4. 保存到 output/content/ 目录
```

### 示例 3：生成海报方案

```
用户: 根据刚才的春运安全文案，帮我出几个海报方案

Agent 执行流程:
1. 提取主题="春运安全"，内容类型=海报方案
2. 参考之前的文案上下文
3. 生成3套海报方案 JSON
4. 保存到 output/posters/ 目录
```

### 示例 4：生成视频脚本

```
用户: 写一个30秒的关于疲劳驾驶的短视频脚本

Agent 执行流程:
1. 提取主题="疲劳驾驶"，内容类型=视频脚本，时长=30秒
2. 生成标准分镜脚本
3. 保存到 output/scripts/ 目录
```
